(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bbffdd70"],{"077d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:8}},[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[a("i",{staticClass:"el-icon-plus"}),e._v("新增\n        ")])],1)],1)],1),e._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:23}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,height:"550",border:""}},[a("el-table-column",{attrs:{width:"50",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.$index+(e.listQuery.page-1)*e.listQuery.limit+1))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"materialsName",label:"物料名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"物料分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"brandName",label:"物料品牌"}}),e._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"物料备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"操作时间",width:"200",formatter:e.formatDateTime}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisibleEdit,title:"编辑"},on:{"update:visible":function(t){e.dialogVisibleEdit=t}}},[a("el-form",{ref:"form",attrs:{model:e.entityVO,"label-width":"80px","label-position":"right"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物料名称",prop:"materialsName"}},[a("el-input",{attrs:{placeholder:"物料名称"},model:{value:e.entityVO.materialsName,callback:function(t){e.$set(e.entityVO,"materialsName",t)},expression:"entityVO.materialsName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物料分类",prop:"materialsTypeId"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},on:{select:e.handleSelect},model:{value:e.entityVO.typeName,callback:function(t){e.$set(e.entityVO,"typeName",t)},expression:"entityVO.typeName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物料品牌",prop:"materialsBrandId"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch1,placeholder:"请输入内容"},on:{select:e.handleSelect1},model:{value:e.entityVO.brandName,callback:function(t){e.$set(e.entityVO,"brandName",t)},expression:"entityVO.brandName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位/数量",prop:"unit"}},[a("el-input",{attrs:{placeholder:"单位、以实际情况记录。"},model:{value:e.entityVO.unit,callback:function(t){e.$set(e.entityVO,"unit",t)},expression:"entityVO.unit"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物料备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"物料备注"},model:{value:e.entityVO.remark,callback:function(t){e.$set(e.entityVO,"remark",t)},expression:"entityVO.remark"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作时间",prop:"createTime"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"操作时间"},model:{value:e.entityVO.createTime,callback:function(t){e.$set(e.entityVO,"createTime",t)},expression:"entityVO.createTime"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisibleEdit=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmTbmaterialsmanageEdit}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisibleAdd,title:"新增"},on:{"update:visible":function(t){e.dialogVisibleAdd=t}}},[a("el-form",{ref:"form",attrs:{model:e.entityVO,"label-width":"80px","label-position":"right"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物料名称",prop:"materialsName"}},[a("el-input",{attrs:{placeholder:"物料名称"},model:{value:e.entityVO.materialsName,callback:function(t){e.$set(e.entityVO,"materialsName",t)},expression:"entityVO.materialsName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物料分类",prop:"materialsTypeId"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},on:{select:e.handleSelect},model:{value:e.state1,callback:function(t){e.state1=t},expression:"state1"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物料品牌",prop:"materialsBrandId"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch1,placeholder:"请输入内容"},on:{select:e.handleSelect1},model:{value:e.state2,callback:function(t){e.state2=t},expression:"state2"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位/数量",prop:"unit"}},[a("el-input",{attrs:{placeholder:"单位、以实际情况记录。"},model:{value:e.entityVO.unit,callback:function(t){e.$set(e.entityVO,"unit",t)},expression:"entityVO.unit"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物料备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"物料备注"},model:{value:e.entityVO.remark,callback:function(t){e.$set(e.entityVO,"remark",t)},expression:"entityVO.remark"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作时间",prop:"createTime"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"操作时间"},model:{value:e.entityVO.createTime,callback:function(t){e.$set(e.entityVO,"createTime",t)},expression:"entityVO.createTime"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisibleAdd=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmTbmaterialsmanageAdd}},[e._v("确定")])],1)],1)],1)},r=[],i=(a("96cf"),a("3b8d")),s=a("5f87"),l=a("b775");function o(e){return Object(l["a"])({url:"/rest/tbMaterialsManage/list",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/rest/tbMaterialsManage/update",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/rest/tbMaterialsManage/add",method:"post",data:e})}function m(e){return Object(l["a"])({url:"/rest/tbMaterialsManage/delete",method:"post",data:e})}function d(e){return Object(l["a"])({url:"/rest/tbMaterialsBrand/list",method:"post",data:e})}function p(e){return Object(l["a"])({url:"/rest/tbMaterialsType/list",method:"post",data:e})}var h=a("333d"),f=a("24b9"),g=a("ed08"),b=Object(s["a"])(),y={uid:localStorage.getItem("uid"),id:"",materialsName:"",materialsTypeId:"",materialsBrandId:"",unit:"",materialsImg:"",remark:"",createTime:""},v={name:"tbmaterialsmanage",components:{Pagination:h["a"]},data:function(){return{list:null,total:0,tableKey:0,listLoading:!1,listQuery:{uid:localStorage.getItem("uid"),page:1,limit:50,id:"",materialsName:"",materialsTypeId:"",materialsBrandId:"",unit:"",materialsImg:"",remark:"",createTime:""},headersObj:{"LinkAdmin-Token":b},activeName:"first",dialogVisibleEdit:!1,dialogVisibleAdd:!1,dialogType:"new",entityVO:Object.assign({},y),wuLiaoType:{uid:localStorage.getItem("uid"),id:"",brandName:""},wuLiaoType01:{uid:localStorage.getItem("uid"),id:"",typeName:""},restaurants:[],restaurants00:[],restaurants01:[],restaurants02:[],state1:"",state2:"",dialogImageUrl:"",dialogVisible:!1,image:"",gridData:[{date:"2016-05-02",name:"王小虎"},{date:"2016-05-04",name:"王小虎"},{date:"2016-05-01",name:"王小虎"},{date:"2016-05-03",name:"王小虎"}],searchDeviceType:""}},watch:{searchDeptName:function(e){this.$refs.serchDeptTree.filter(e)},searchDeviceType:function(e,t){console.log(e),console.log(t)}},created:function(){this.getList()},mounted:function(){},methods:{getList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listLoading=!0,e.prev=1,e.next=4,o(this.listQuery);case 4:t=e.sent,this.listLoading=!1,this.list=t.result.rows,this.total=t.result.records,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.listLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}(),formatDateTime:function(e,t){return Object(f["a"])(e.createTime,"yyyy-MM-dd hh:mm:ss")},querySearch:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(this.wuLiaoType01);case 3:for(n=e.sent,this.restaurants=n.result.rows,r=0;r<n.result.rows.length;r++)this.$set(this.restaurants[r],"value",this.restaurants[r].typeName);i=t?this.restaurants.filter(this.createFilter(t)):this.restaurants,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:a(i);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t,a){return e.apply(this,arguments)}return t}(),handleSelect:function(e){console.log(e),this.entityVO.materialsTypeId=e.id},querySearch1:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(this.wuLiaoType);case 3:for(n=e.sent,this.restaurants00=n.result.rows,r=0;r<n.result.rows.length;r++)this.$set(this.restaurants00[r],"value",this.restaurants00[r].brandName);i=t?this.restaurants00.filter(this.createFilter(t)):this.restaurants00,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:a(i);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t,a){return e.apply(this,arguments)}return t}(),handleSelect1:function(e){console.log(e),this.entityVO.materialsBrandId=e.id},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},end:function(e,t,a){console.log(t),this.image=t.url,console.log(this.image)},handleEdit:function(e){this.dialogVisibleEdit=!0,this.entityVO=Object(g["c"])(e.row)},handleAdd:function(e){this.dialogVisibleAdd=!0},confirmTbmaterialsmanageEdit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(this.entityVO);case 2:t=e.sent,a=t.code,2e4==a&&(this.$message({showClose:!0,message:"编辑成功",type:"success"}),this.dialogVisibleEdit=!1,this.getList());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmTbmaterialsmanageAdd:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=this.entityVO.materialsName){e.next=4;break}this.$message({showClose:!0,message:"请输入物料名称",type:"warning"}),e.next=25;break;case 4:if(""!=this.state1){e.next=8;break}this.$message({showClose:!0,message:"请输入物料分类",type:"warning"}),e.next=25;break;case 8:if(""!=this.state2){e.next=12;break}this.$message({showClose:!0,message:"请输入物料品牌",type:"warning"}),e.next=25;break;case 12:if(""!=this.entityVO.unit){e.next=16;break}this.$message({showClose:!0,message:"请输入物料物料数量",type:"warning"}),e.next=25;break;case 16:if(""!=this.entityVO.remark){e.next=20;break}this.$message({showClose:!0,message:"请输入备注/用途",type:"warning"}),e.next=25;break;case 20:return e.next=22,u(this.entityVO);case 22:t=e.sent,a=t.code,2e4==a&&(this.$message({showClose:!0,message:"新增成功",type:"success"}),this.dialogVisibleAdd=!1,this.getList());case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleDelete:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.$createElement,this.entityVO=Object(g["c"])(t.row),this.$msgbox({title:"删除消息",message:a("p",null,[a("span",null,"确定要删除 "),a("i",{style:"color: teal"},"这条记录吗?")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("confirm"!==t){e.next=7;break}return e.next=3,m(n.entityVO);case 3:i=e.sent,2e4==i.code&&r(),e.next=8;break;case 7:r();case 8:case"end":return e.stop()}}),e)})));function t(t,a,n){return e.apply(this,arguments)}return t}()}).then((function(e){n.$message({showClose:!0,type:"success",message:"删除成功"}),n.getList()}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addDictInfo:function(e){console.log(e)},selectDict:function(e){console.log(e)},editDictInfo:function(e){console.log(e)},dictInfoDelete:function(e){console.log(e)}}},w=v,O=a("2877"),k=Object(O["a"])(w,n,r,!1,null,null,null);t["default"]=k.exports},"09f4":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),Math.easeInOutQuad=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function r(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,a){var s=i(),l=e-s,o=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=o;var i=Math.easeInOutQuad(c,s,l,t);r(i),c<t?n(e):a&&"function"===typeof a&&a()};u()}},"24b9":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("3b2b"),a("a481");function n(e,t){var a=new Date(e).Format("yyyy-MM-dd hh:mm:ss");return t&&(a=new Date(e).Format(t)),a.toLocaleString()}Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e}}}]);