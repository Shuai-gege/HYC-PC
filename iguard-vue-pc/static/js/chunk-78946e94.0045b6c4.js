(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78946e94"],{"09f4":function(t,e,a){"use strict";a.d(e,"a",(function(){return l})),Math.easeInOutQuad=function(t,e,a,n){return t/=n/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function r(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(t,e,a){var l=i(),o=t-l,u=20,s=0;e="undefined"===typeof e?500:e;var c=function t(){s+=u;var i=Math.easeInOutQuad(s,l,o,e);r(i),s<e?n(t):a&&"function"===typeof a&&a()};c()}},"2e08":function(t,e,a){var n=a("9def"),r=a("9744"),i=a("be13");t.exports=function(t,e,a,l){var o=String(i(t)),u=o.length,s=void 0===a?" ":String(a),c=n(e);if(c<=u||""==s)return o;var d=c-u,p=r.call(s,Math.ceil(d/s.length));return p.length>d&&(p=p.slice(0,d)),l?p+o:o+p}},"43a7":function(t,e,a){},"563f":function(t,e,a){"use strict";var n=a("43a7"),r=a.n(n);r.a},6403:function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"c",(function(){return l})),a.d(e,"e",(function(){return o})),a.d(e,"a",(function(){return u})),a.d(e,"d",(function(){return s})),a.d(e,"b",(function(){return c}));var n=a("b775"),r=a("7605");function i(t){return Object(n["a"])({url:"/rest/department/subCompanyList",method:"get",params:{uid:t}})}function l(t){return Object(r["a"])({url:"/rest/buildingLocation/getCompanyDeptByCompanyId",method:"get",params:{company_id:t}})}function o(t){return Object(n["a"])({url:"/rest/tbEventReport/getPCReportEventDetailByPage",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/rest/buildingLocation/getBuildingLocationFloor",method:"get",params:{parentId:t}})}function s(t){return Object(n["a"])({url:"/rest/tbEventTypeConfig/list",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/rest/department/getCompanyByUid",method:"get",params:{uid:t}})}},9744:function(t,e,a){"use strict";var n=a("4588"),r=a("be13");t.exports=function(t){var e=String(r(this)),a="",i=n(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(a+=e);return a}},c0ee:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.time},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"请选择建筑"},on:{change:t.jianZhu},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}},t._l(t.locationName,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"请选择楼层"},on:{change:t.louCeng},model:{value:t.floor,callback:function(e){t.floor=e},expression:"floor"}},t._l(t.floorId,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"请选择业态"},on:{change:t.yeTaiFun},model:{value:t.yeTai,callback:function(e){t.yeTai=e},expression:"yeTai"}},t._l(t.yeTaiId,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入商户名/事件编号"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"请选择自检状态"},on:{change:t.ziJian},model:{value:t.ziJian_status,callback:function(e){t.ziJian_status=e},expression:"ziJian_status"}},t._l(t.ziJian_status_arr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"请选择自检结果"},on:{change:t.ziJian1},model:{value:t.ziJian_result,callback:function(e){t.ziJian_result=e},expression:"ziJian_result"}},t._l(t.ziJian_result_arr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"请选择复查状态"},on:{change:t.fuCha},model:{value:t.retail_status,callback:function(e){t.retail_status=e},expression:"retail_status"}},t._l(t.retail_status_arr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"请选择复查结果"},on:{change:t.fuCha1},model:{value:t.retail_result,callback:function(e){t.retail_result=e},expression:"retail_result"}},t._l(t.retail_result_arr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-col",{attrs:{offset:6,span:3}},[a("el-button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary"}},[t._v("导出")])],1)],1),t._v(" "),a("el-divider"),t._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:"",height:"550"}},[a("el-table-column",{attrs:{width:"50",label:"序号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.$index+(t.listQuery.page-1)*t.listQuery.pageSize+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"shop_name",label:"商户名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"retail_name",label:"业态类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"task_name",label:"任务名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"shop_manage_name",label:"上报人",formatter:t.shangBaoRen}}),t._v(" "),a("el-table-column",{attrs:{prop:"check_time",label:"任务开始时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"check_status",label:"自检状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"check_result",label:"自检结果"}}),t._v(" "),a("el-table-column",{attrs:{prop:"repeat_status",label:"复查状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"repeat_result",label:"复查结果"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.details(e)}}},[t._v("详情")])]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}})],1)],1)},r=[],i=(a("ac6a"),a("96cf"),a("3b8d")),l=(a("f576"),a("7f7f"),a("6403")),o=a("dea4"),u=a("333d"),s={components:{Pagination:u["a"]},name:"shangHuCheck",watch:{$route:function(t,e){if("shangHuCheck"==t.name||"shangHuCheck"==e.name){console.log("走了吗");var a=this.$route.params;null!=a.startTime&&void 0!=a.startTime&&(this.listQuery.start_time=a.startTime,this.listQuery.end_time=a.endTime,this.value=[a.startTime,a.endTime],this.listQuery.shop_name=a.shop_nam,this.input=a.shop_nam,null!=a.ziJian_status&&void 0!=a.ziJian_status?(this.ziJian_status=a.ziJian_status,this.listQuery.check_status=a.ziJian_status):(this.ziJian_status="",this.listQuery.check_status=""),null!=a.ziJian_result&&void 0!=a.ziJian_result?(this.ziJian_result=a.ziJian_result,this.listQuery.check_result=a.ziJian_result):(this.ziJian_result="",this.listQuery.check_result=""),this.getList())}}},data:function(){return{value:[new Date,new Date],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],location:"",locationName:[{value:"",label:"建筑（全部）"}],floor:"",floorId:[{value:"",label:"楼层（全部）"}],yeTai:"",yeTaiId:[{value:"",label:"业态（全部）"}],ziJian_status:"",ziJian_status_arr:[{value:"",label:"自检状态（全部）"},{value:"0",label:"未开始"},{value:"1",label:"进行中"},{value:"2",label:"已完成"},{value:"3",label:"已逾期"},{value:"4",label:"已报事"}],ziJian_result:"",ziJian_result_arr:[{value:"",label:"自检结果（全部）"},{value:"1",label:"合格"},{value:"2",label:"不合格"}],retail_status:"",retail_status_arr:[{value:"",label:"复查状态（全部）"},{value:"1",label:"待复查"},{value:"2",label:"可抽查"},{value:"3",label:"处理中"},{value:"4",label:"已处理"}],retail_result:"",retail_result_arr:[{value:"",label:"复查结果（全部）"},{value:"1",label:"正常"},{value:"2",label:"异常"}],input:"",list:[],listLoading:!0,total:0,yeTaiQuery:{company_id:localStorage.getItem("companyId"),uid:localStorage.getItem("uid"),page:1,pageSize:50},listQuery:{company_id:localStorage.getItem("companyId"),page:1,pageSize:50}}},mounted:function(){this.getList(),this.getListFormatList(),this.companyDept(localStorage.getItem("companyId"));var t=new Date,e=t.getFullYear()+"-"+JSON.stringify(t.getMonth()+1).padStart(2,"0")+"-"+JSON.stringify(t.getDate()).padStart(2,"0");this.listQuery.start_time=e,this.listQuery.end_time=e;var a=this.$route.params;null!=a.startTime&&void 0!=a.startTime&&(this.listQuery.start_time=a.startTime,this.listQuery.end_time=a.endTime,this.value=[a.startTime,a.endTime],this.listQuery.shop_name=a.shop_nam,this.input=a.shop_nam,null!=a.ziJian_status&&void 0!=a.ziJian_status&&(this.ziJian_status=a.ziJian_status,this.listQuery.check_status=a.ziJian_status),null!=a.ziJian_result&&void 0!=a.ziJian_result&&(this.ziJian_result=a.ziJian_result,this.listQuery.check_result=a.ziJian_result))},methods:{shangBaoRen:function(t){return null==t.shop_manage_name?"-":t.shop_manage_name},getList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o["c"])(this.listQuery);case 3:e=t.sent,console.log(e),this.list=e.data,this.total=e.count,this.listLoading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),time:function(t){var e=new Date(t[0]);this.listQuery.start_time=e.getFullYear()+"-"+JSON.stringify(e.getMonth()+1).padStart(2,"0")+"-"+JSON.stringify(e.getDate()).padStart(2,"0");var a=new Date(t[1]);this.listQuery.end_time=a.getFullYear()+"-"+JSON.stringify(a.getMonth()+1).padStart(2,"0")+"-"+JSON.stringify(a.getDate()).padStart(2,"0")},jianZhu:function(t){console.log(t),""==t?(this.floorId=[{value:"",label:"楼层（全部）"}],this.listQuery.building_id=""):(this.listQuery.building_id=t,this.getFloor(t))},louCeng:function(t){this.listQuery.floor_id=""==t?"":t},yeTaiFun:function(t){this.listQuery.retail_id=t},ziJian:function(t){this.listQuery.check_status=t},ziJian1:function(t){this.listQuery.check_result=t},fuCha:function(t){this.listQuery.repeat_status=t},fuCha1:function(t){this.listQuery.repeat_result=t},details:function(t){localStorage.setItem("baseUrl","http://47.100.240.228"),console.log(t),this.$router.push({name:"details",params:{detail_id:t.row.detail_id}})},getListFormatList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o["h"])(this.yeTaiQuery);case 3:e=t.sent,console.log(e),e.data.forEach((function(t){a.yeTaiId.push({value:t.id,label:t.retail_format_name})})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),companyDept:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(l["c"])(e);case 3:a=t.sent,a.result.forEach((function(t){n.locationName.push({value:t.id,label:t.locationName})})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),getFloor:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(l["a"])(e);case 3:a=t.sent,a.result.forEach((function(t){n.floorId.push({value:t.id,label:t.locationName})})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),query:function(){this.listQuery.shop_name=this.input,this.listLoading=!0,this.getList()}}},c=s,d=(a("563f"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,"017e7b58",null);e["default"]=p.exports},dea4:function(t,e,a){"use strict";var n=a("bc3a"),r=a.n(n),i=a("5c96"),l=a("4360"),o=a("5f87"),u=r.a.create({baseURL:"http://47.100.240.228:8954",timeout:3e5,responseType:"json"});u.interceptors.request.use((function(t){return l["a"].getters.token&&(t.headers["LinkAdmin-Token"]=Object(o["a"])()),t}),(function(t){return console.log(t),Promise.reject(t)})),u.interceptors.response.use((function(t){var e=t.data;return 200!==e.code?(Object(i["Message"])({message:e.msg||"Error",type:"error",duration:3e3}),50001===e.code&&i["MessageBox"].confirm("你已经退出系统了, 你可以取消停留在这一页, 或者再次登录","提示",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((function(){l["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(e.msg||"Error"))):e}),(function(t){return console.log("err"+t),Object(i["Message"])({message:t.message,type:"error",duration:3e3}),Promise.reject(t)}));var s=u;function c(t){return s({url:"/rest/shop/add",method:"post",data:t})}function d(t){return s({url:"/rest/shop/edit",method:"post",data:t})}function p(t){return s({url:"/rest/shop/list",method:"post",data:t})}function h(t){return s({url:"/rest/shop/remove",method:"post",data:t})}function m(t){return s({url:"/rest/retailFormat/add",method:"post",data:t})}function f(t){return s({url:"/rest/retailFormat/edit",method:"post",data:t})}function v(t){return s({url:"/rest/retailFormat/list",method:"post",data:t})}function _(t){return s({url:"/rest/retailFormat/remove",method:"post",data:t})}function g(t){return s({url:"/rest/ShopManageManage/add",method:"post",data:t})}function b(t){return s({url:"/rest/ShopManageManage/edit",method:"post",data:t})}function y(t){return s({url:"/rest/ShopManageManage/list",method:"post",data:t})}function k(t){return s({url:"/rest/ShopManageManage/remove",method:"post",data:t})}function w(t){return s({url:"/rest/ShopManageManage/passIf",method:"post",data:t})}function J(t){return s({url:"/rest/checkTask/add",method:"post",data:t})}function z(t){return s({url:"/rest/checkTask/edit",method:"post",data:t})}function T(t){return s({url:"/rest/checkTask/list",method:"post",data:t})}function Q(t){return s({url:"/rest/checkTask/remove",method:"post",data:t})}function S(t){return s({url:"/rest/checkItem/add",method:"post",data:t})}function x(t){return s({url:"/rest/checkItem/edit",method:"post",data:t})}function O(t){return s({url:"/rest/checkItem/list",method:"post",data:t})}function j(t){return s({url:"/rest/checkItem/remove",method:"post",data:t})}function I(t){return s({url:"/rest/checkTask/getGroups",method:"post",data:t})}function L(t){return s({url:"/rest/reportCheck/checkDetailReport",method:"post",data:t})}function M(t){return s({url:"/rest/reportCheck/checkStatisticsReport",method:"post",data:t})}function C(t){return s({url:"/rest/checkTask/getDetailsByParamById",method:"get",params:{detail_id:t}})}a.d(e,"l",(function(){return c})),a.d(e,"u",(function(){return d})),a.d(e,"g",(function(){return p})),a.d(e,"p",(function(){return h})),a.d(e,"m",(function(){return m})),a.d(e,"x",(function(){return f})),a.d(e,"h",(function(){return v})),a.d(e,"s",(function(){return _})),a.d(e,"n",(function(){return g})),a.d(e,"y",(function(){return b})),a.d(e,"i",(function(){return y})),a.d(e,"t",(function(){return k})),a.d(e,"o",(function(){return w})),a.d(e,"b",(function(){return J})),a.d(e,"w",(function(){return z})),a.d(e,"k",(function(){return T})),a.d(e,"r",(function(){return Q})),a.d(e,"a",(function(){return S})),a.d(e,"v",(function(){return x})),a.d(e,"j",(function(){return O})),a.d(e,"q",(function(){return j})),a.d(e,"f",(function(){return I})),a.d(e,"c",(function(){return L})),a.d(e,"d",(function(){return M})),a.d(e,"e",(function(){return C}))},f576:function(t,e,a){"use strict";var n=a("5ca1"),r=a("2e08"),i=a("a25f"),l=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*l,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})}}]);