(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46a28a52"],{"09f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),Math.easeInOutQuad=function(e,t,n,a){return e/=a/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function i(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,n){var o=r(),l=e-o,c=20,s=0;t="undefined"===typeof t?500:t;var u=function e(){s+=c;var r=Math.easeInOutQuad(s,o,l,t);i(r),s<t?a(e):n&&"function"===typeof n&&n()};u()}},"28e3":function(e,t,n){"use strict";var a=n("c8290"),i=n.n(a);i.a},c8290:function(e,t,n){},dea4:function(e,t,n){"use strict";var a=n("bc3a"),i=n.n(a),r=n("5c96"),o=n("4360"),l=n("5f87"),c=i.a.create({baseURL:"http://47.100.240.228:8954",timeout:3e5,responseType:"json"});c.interceptors.request.use((function(e){return o["a"].getters.token&&(e.headers["LinkAdmin-Token"]=Object(l["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.data;return 200!==t.code?(Object(r["Message"])({message:t.msg||"Error",type:"error",duration:3e3}),50001===t.code&&r["MessageBox"].confirm("你已经退出系统了, 你可以取消停留在这一页, 或者再次登录","提示",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((function(){o["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.msg||"Error"))):t}),(function(e){return console.log("err"+e),Object(r["Message"])({message:e.message,type:"error",duration:3e3}),Promise.reject(e)}));var s=c;function u(e){return s({url:"/rest/shop/add",method:"post",data:e})}function m(e){return s({url:"/rest/shop/edit",method:"post",data:e})}function d(e){return s({url:"/rest/shop/list",method:"post",data:e})}function h(e){return s({url:"/rest/shop/remove",method:"post",data:e})}function f(e){return s({url:"/rest/retailFormat/add",method:"post",data:e})}function p(e){return s({url:"/rest/retailFormat/edit",method:"post",data:e})}function v(e){return s({url:"/rest/retailFormat/list",method:"post",data:e})}function g(e){return s({url:"/rest/retailFormat/remove",method:"post",data:e})}function k(e){return s({url:"/rest/ShopManageManage/add",method:"post",data:e})}function _(e){return s({url:"/rest/ShopManageManage/edit",method:"post",data:e})}function y(e){return s({url:"/rest/ShopManageManage/list",method:"post",data:e})}function b(e){return s({url:"/rest/ShopManageManage/remove",method:"post",data:e})}function x(e){return s({url:"/rest/ShopManageManage/passIf",method:"post",data:e})}function w(e){return s({url:"/rest/checkTask/add",method:"post",data:e})}function Q(e){return s({url:"/rest/checkTask/edit",method:"post",data:e})}function I(e){return s({url:"/rest/checkTask/list",method:"post",data:e})}function L(e){return s({url:"/rest/checkTask/remove",method:"post",data:e})}function S(e){return s({url:"/rest/checkItem/add",method:"post",data:e})}function T(e){return s({url:"/rest/checkItem/edit",method:"post",data:e})}function F(e){return s({url:"/rest/checkItem/list",method:"post",data:e})}function D(e){return s({url:"/rest/checkItem/remove",method:"post",data:e})}function V(e){return s({url:"/rest/checkTask/getGroups",method:"post",data:e})}function j(e){return s({url:"/rest/reportCheck/checkDetailReport",method:"post",data:e})}function $(e){return s({url:"/rest/reportCheck/checkStatisticsReport",method:"post",data:e})}function C(e){return s({url:"/rest/checkTask/getDetailsByParamById",method:"get",params:{detail_id:e}})}n.d(t,"l",(function(){return u})),n.d(t,"u",(function(){return m})),n.d(t,"g",(function(){return d})),n.d(t,"p",(function(){return h})),n.d(t,"m",(function(){return f})),n.d(t,"x",(function(){return p})),n.d(t,"h",(function(){return v})),n.d(t,"s",(function(){return g})),n.d(t,"n",(function(){return k})),n.d(t,"y",(function(){return _})),n.d(t,"i",(function(){return y})),n.d(t,"t",(function(){return b})),n.d(t,"o",(function(){return x})),n.d(t,"b",(function(){return w})),n.d(t,"w",(function(){return Q})),n.d(t,"k",(function(){return I})),n.d(t,"r",(function(){return L})),n.d(t,"a",(function(){return S})),n.d(t,"v",(function(){return T})),n.d(t,"j",(function(){return F})),n.d(t,"q",(function(){return D})),n.d(t,"f",(function(){return V})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return $})),n.d(t,"e",(function(){return C}))},ea56:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("span",[e._v("检查项类型：")]),e._v(" "),n("el-select",{attrs:{placeholder:"请选择"},on:{change:e.check_type},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("span",[e._v("检查项描述：")]),e._v(" "),n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),e._v(" "),n("el-col",{attrs:{span:7}},[n("el-button",{attrs:{type:"primary"},on:{click:e.query}},[e._v("查找")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.newAdd}},[e._v("新增")])],1)],1),e._v(" "),n("el-divider"),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",height:"450"}},[n("el-table-column",{attrs:{width:"50",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.$index+(e.listQuery.page-1)*e.listQuery.pageSize+1))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"check_type",label:"检查项类型",formatter:e.checkType}}),e._v(" "),n("el-table-column",{attrs:{prop:"check_item_description",label:"检查项描述"}}),e._v(" "),n("el-table-column",{attrs:{prop:"input_tip",label:"输入提示",formatter:e.tip}}),e._v(" "),n("el-table-column",{attrs:{prop:"checkItemDetailBeanList",label:"正确值判断",formatter:e.judeg}}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleEdit(t)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleDelete(t)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),n("div",{staticClass:"new_edit"},[n("el-dialog",{attrs:{title:e.title?"编辑":"新增",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"检查类型"}},[n("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择检查类型"},on:{change:e.typeCheck},model:{value:e.form.checkType,callback:function(t){e.$set(e.form,"checkType",t)},expression:"form.checkType"}},e._l(e.form.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"检查项描述"}},[n("el-input",{staticStyle:{width:"30%"},attrs:{type:"text",placeholder:"请输入检查项描述",maxlength:"12","show-word-limit":""},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}})],1),e._v(" "),e.flag2?n("el-form-item",{attrs:{label:"输入提示"}},[n("el-input",{staticStyle:{width:"30%"},attrs:{type:"text",placeholder:"请输入提示",maxlength:"12","show-word-limit":""},model:{value:e.form.hint,callback:function(t){e.$set(e.form,"hint",t)},expression:"form.hint"}})],1):e._e(),e._v(" "),e.flag1?n("div",[e.flag?e._e():n("el-form-item",{attrs:{label:"正常值范围"}},[n("el-checkbox",{model:{value:e.form.checked1,callback:function(t){e.$set(e.form,"checked1",t)},expression:"form.checked1"}},[e._v("\n              ≥\n              "),n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.input,callback:function(t){e.$set(e.form,"input",t)},expression:"form.input"}})],1),e._v(" "),n("el-checkbox",{model:{value:e.form.checked2,callback:function(t){e.$set(e.form,"checked2",t)},expression:"form.checked2"}},[e._v("\n              ≤\n              "),n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1)],1):e._e(),e._v(" "),e.flag?e._e():n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定")]),e._v(" "),n("el-button",{on:{click:e.handleClose}},[e._v("取消")])],1)],1),e._v(" "),e.flag?n("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicValidateForm,"label-width":"100px"}},[e._l(e.dynamicValidateForm.domains,(function(t,a){return n("el-form-item",{key:t.key,attrs:{label:""+(a+1),prop:"domains."+a+".detail_value",rules:{required:!0,message:"域名不能为空",trigger:"blur"}}},[n("el-input",{staticStyle:{width:"30%"},model:{value:t.detail_value,callback:function(n){e.$set(t,"detail_value",n)},expression:"domain.detail_value"}}),e._v(" "),n("el-checkbox",{model:{value:t.checked,callback:function(n){e.$set(t,"checked",n)},expression:"domain.checked"}},[e._v("设为正常值")]),e._v(" "),n("el-button",{attrs:{type:"text"}},[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return n.preventDefault(),e.removeDomain(t)}}})])],1)})),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm1("dynamicValidateForm")}}},[e._v("确定")]),e._v(" "),n("el-button",{on:{click:e.addDomain}},[e._v("新增")])],1)],2):e._e()],1)],1)],1)},i=[],r=(n("ac6a"),n("96cf"),n("3b8d")),o=n("dea4"),l=n("333d"),c={components:{Pagination:l["a"]},data:function(){return{message:"",listLoading:!0,list:[],total:0,options:[{value:"",label:"全部"},{value:"0",label:"数值类"},{value:"1",label:"选项类"},{value:"2",label:"文本类"},{value:"3",label:"正常/异常类"}],value:"",flag:!1,flag1:!0,flag2:!0,title:!1,dialogVisible:!1,form:{checkType:"0",options:[{value:"0",label:"数值类"},{value:"1",label:"选项类"},{value:"2",label:"文本类"},{value:"3",label:"正常/异常类"}],message:"",hint:"",checked1:!1,checked2:!1,input:"",input1:""},dynamicValidateForm:{domains:[{detail_value:"",checked:!1}]},listQuery:{uid:localStorage.getItem("uid"),company_id:localStorage.getItem("companyId"),pageSize:50,page:1},listQuery1:{uid:localStorage.getItem("uid"),company_id:localStorage.getItem("companyId"),pageSize:50,page:1,checkItemDetailBeanList:[]}}},mounted:function(){this.getList()},methods:{newAdd:function(){this.dialogVisible=!this.dialogVisible,this.form={checkType:"0",options:[{value:"0",label:"数值类"},{value:"1",label:"选项类"},{value:"2",label:"文本类"},{value:"3",label:"正常/异常类"}],message:"",hint:"",checked1:!1,checked2:!1,input:"",input1:""},this.dynamicValidateForm={domains:[{detail_value:"",checked:!1}]}},getList:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["j"])(this.listQuery);case 3:t=e.sent,console.log(t),this.listLoading=!1,this.list=t.data,this.total=t.count,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}(),addCheck:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["a"])(t);case 3:n=e.sent,200==n.code&&(this.$message({message:n.msg,type:"success"}),history.go(0),this.dialogVisible=!1,this.listLoading=!0,this.getList()),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),updateCheck:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["v"])(t);case 3:n=e.sent,200==n.code&&(this.$message({message:n.msg,type:"success"}),history.go(0),this.dialogVisible=!1,this.listLoading=!0,this.getList()),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),removeCheck:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["q"])(t);case 3:n=e.sent,200==n.code&&(this.$message({message:n.msg,type:"success"}),this.listLoading=!0,this.getList()),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),check_type:function(e){console.log(e),this.listQuery.check_type=e},handleDelete:function(e){this.removeCheck({id:e.row.id,uid:localStorage.getItem("uid"),company_id:localStorage.getItem("companyId")})},checkType:function(e){return 0==e.check_type?"数值类":1==e.check_type?"选项类":2==e.check_type?"文本类":3==e.check_type?"正常/异常类":void 0},typeCheck:function(e){this.listQuery1.check_type=e,this.flag1=!0,0==e?(this.flag1=!0,this.flag=!1):1==e?(this.flag=!0,this.flag2=!1):2==e?(this.flag=!1,this.flag1=!1,this.flag2=!0,this.listQuery1.checkItemDetailBeanList.push({check_item_id:null,company_id:null,create_time:null,del_status:null,detail_value:null,font_value:null,id:null,limit:null,max_value:null,min_value:null,normal_item:null,page:null,pageSize:null,records:null,rows:null,startData:null,total:null,uid:null})):3==e&&(this.flag1=!1,this.flag2=!1,this.listQuery1.checkItemDetailBeanList.push({check_item_id:null,company_id:null,create_time:null,del_status:null,detail_value:null,font_value:null,id:null,limit:null,max_value:null,min_value:null,normal_item:null,page:null,pageSize:null,records:null,rows:null,startData:null,total:null,uid:null}))},handleEdit:function(e){var t=this;this.dialogVisible=!0,this.title=!0;var n=e.row;this.form.checkType=JSON.stringify(n.check_type),this.form.message=n.check_item_description,this.form.hint=n.input_tip,this.listQuery1.id=n.id,0==n.check_type?(this.flag1=!0,this.flag=!1,n.checkItemDetailBeanList.forEach((function(e){0==e.normal_item?(t.form.checked1=!0,t.form.checked2=!0):1==e.normal_item?(t.form.checked1=!1,t.form.checked2=!1):2==e.normal_item?(t.form.checked2=!1,t.form.checked1=!0):3==e.normal_item&&(t.form.checked1=!1,t.form.checked2=!0),t.form.input=e.min_value,t.form.input1=e.max_value}))):1==n.check_type?(this.dynamicValidateForm.domains=[],n.checkItemDetailBeanList.forEach((function(e){0==e.normal_item?(t.form.checked1=!0,t.form.checked2=!0,t.dynamicValidateForm.domains.push({detail_value:e.detail_value,checked:!0})):1==e.normal_item?(t.form.checked1=!1,t.form.checked2=!1,t.dynamicValidateForm.domains.push({detail_value:e.detail_value,checked:!1})):2==e.normal_item?t.form.checked1=!0:3==e.normal_item&&(t.form.checked2=!0),t.form.input=e.min_value,t.form.input1=e.max_value})),this.flag=!0):2==n.check_type?(this.flag=!1,this.flag1=!1):3==n.check_type&&(this.flag1=!1)},judeg:function(e){var t=e.checkItemDetailBeanList,n=e.checkItemDetailBeanList;if(1==t.length&&null!=t[0].normal_item){if(""==t[0].max_value&&""!=t[0].min_value)return"≤".concat(t[0].min_value);if(""!=t[0].max_value&&""==t[0].min_value)return"≥".concat(t[0].min_value);if(""!=t[0].max_value&&""!=t[0].min_value)return"≤".concat(t[0].max_value,"，≥").concat(t[0].min_value)}else{if(n.length>1){var a=[];return n.forEach((function(e){0==e.normal_item&&(a.push(e.detail_value),console.log(e),console.log("scope"))})),a.join(",")}if(null==t[0].normal_item)return"-"}},tip:function(e){return null==e.input_tip?"-":e.input_tip},addDomain:function(){this.dynamicValidateForm.domains.push({detail_value:"",checked:!1})},removeDomain:function(e){var t=this.dynamicValidateForm.domains.indexOf(e);-1!==t&&this.dynamicValidateForm.domains.splice(t,1)},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.listQuery1.check_item_description=t.form.message,t.listQuery1.input_tip=t.form.hint,t.listQuery1.check_type=t.form.checkType,1==t.form.checked1&&0==t.form.checked2?t.listQuery1.checkItemDetailBeanList=[{max_value:t.form.input1,min_value:t.form.input,normal_item:"2"}]:1==t.form.checked1&&1==t.form.checked2?t.listQuery1.checkItemDetailBeanList=[{max_value:t.form.input1,min_value:t.form.input,normal_item:"0"}]:0==t.form.checked1&&1==t.form.checked2&&(t.listQuery1.checkItemDetailBeanList=[{max_value:t.form.input1,min_value:t.form.input,normal_item:"3"}]),t.title?(console.log("我是？"),t.updateCheck(t.listQuery1)):(console.log("我是？111"),t.addCheck(t.listQuery1))}))},submitForm1:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.dynamicValidateForm.domains.forEach((function(e){e.checked?t.$set(e,"normal_item","0"):t.$set(e,"normal_item","1")})),t.listQuery1.check_type=t.form.checkType,t.listQuery1.checkItemDetailBeanList=t.dynamicValidateForm.domains,t.listQuery1.check_item_description=t.form.message,t.title?(console.log("我是？"),t.updateCheck(t.listQuery1)):(console.log("我是？111"),t.addCheck(t.listQuery1))}))},handleClose:function(e){this.$confirm("确认关闭？关闭后将刷新。").then((function(t){history.go(0),e()})).catch((function(e){}))},query:function(){this.listQuery.check_item_description=this.message,this.getList()}}},s=c,u=(n("28e3"),n("2877")),m=Object(u["a"])(s,a,i,!1,null,"439c5f90",null);t["default"]=m.exports}}]);