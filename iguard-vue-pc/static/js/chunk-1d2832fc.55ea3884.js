(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d2832fc"],{"06cd":function(t,e,r){"use strict";var n=r("bc3a"),o=r.n(n),a=r("5c96"),i=r("4360"),u=r("5f87"),s=o.a.create({baseURL:"http://47.100.240.228:8950",timeout:3e7,responseType:"json"});s.interceptors.request.use((function(t){return i["a"].getters.token&&(t.headers["LinkAdmin-Token"]=Object(u["a"])()),t}),(function(t){return console.log(t),Promise.reject(t)})),s.interceptors.response.use((function(t){var e=t.data;return 2e4!==e.code?(Object(a["Message"])({message:e.msg||"Error",type:"error",duration:3e3}),50001===e.code&&a["MessageBox"].confirm("你已经退出系统了, 你可以取消停留在这一页, 或者再次登录","提示",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((function(){i["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(e.msg||"Error"))):e}),(function(t){return console.log("err"+t),Object(a["Message"])({message:t.message,type:"error",duration:3e3}),Promise.reject(t)})),e["a"]=s},b548:function(t,e,r){},b8b9:function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return i})),r.d(e,"d",(function(){return u})),r.d(e,"g",(function(){return s})),r.d(e,"f",(function(){return l})),r.d(e,"e",(function(){return c})),r.d(e,"b",(function(){return f}));var n=r("06cd"),o=r("b775");function a(t){return Object(o["a"])({url:"/rest/department/getCompanyAllUser",method:"get",params:{id:t}})}function i(t){return Object(n["a"])({url:"/rest/patrolTask/add",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/rest/patrolTask/getPatrolTaskList",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/rest/patrolTask/stopPatrolTask",method:"get",params:{id:t}})}function l(t){return Object(n["a"])({url:"/rest/patrolTask/removePatrolTask",method:"get",params:{id:t}})}function c(t){return Object(n["a"])({url:"/rest/patrolTask/getTaskDetailsByParam",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/rest/patrolTask/editPatrolTask",method:"post",data:t})}},bd17:function(t,e,r){"use strict";r.d(e,"c",(function(){return i})),r.d(e,"d",(function(){return u})),r.d(e,"b",(function(){return s})),r.d(e,"f",(function(){return l})),r.d(e,"a",(function(){return c})),r.d(e,"k",(function(){return f})),r.d(e,"i",(function(){return d})),r.d(e,"g",(function(){return p})),r.d(e,"j",(function(){return m})),r.d(e,"h",(function(){return h})),r.d(e,"e",(function(){return b}));var n=r("06cd"),o=r("b775"),a=r("7605");function i(t){return Object(o["a"])({url:"/rest/department/getCompanyByUid",method:"get",params:{uid:t}})}function u(t){return Object(a["a"])({url:"/rest/buildingLocation/getCompanyDeptByCompanyId",method:"get",params:{company_id:t}})}function s(t){return Object(a["a"])({url:"/rest/buildingLocation/getBuildingLocationFloor",method:"get",params:{parentId:t}})}function l(t){return Object(n["a"])({url:"/rest/patrolPoint/getPatrolPointList",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/rest/patrolPoint/add",method:"post",data:t})}function f(t,e){return Object(n["a"])({url:"/rest/patrolPoint/stopOrStart",method:"get",params:{id:t,uid:e}})}function d(t,e){return Object(n["a"])({url:"/rest/patrolPoint/remove",method:"get",params:{id:t,uid:e}})}function p(t){return Object(n["a"])({url:"/rest/patrolPoint/modify",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/rest/patrolDefaultConfig/saveOrModify",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/rest/patrolPoint/patrolPointRepeat",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/rest/patrolDefaultConfig/getPatrolPointDefault",method:"get",params:{companyId:t}})}},dc8d:function(t,e,r){"use strict";var n=r("b548"),o=r.n(n);o.a},e36d:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:t.form,"label-width":"180px"}},[r("span",[t._v("巡更点故障设置")]),t._v(" "),r("el-form-item",{attrs:{label:"巡更点故障分配人"}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.fenPei},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}},t._l(t.form.options,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"巡更点故障执行人"}},[r("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择"},on:{change:t.zhiXing},model:{value:t.form.value1,callback:function(e){t.$set(t.form,"value1",e)},expression:"form.value1"}},t._l(t.form.options1,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"巡更点故障无效任务审核人"}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.shenHe},model:{value:t.form.value2,callback:function(e){t.$set(t.form,"value2",e)},expression:"form.value2"}},t._l(t.form.options2,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),r("span",[t._v("巡更点默认参数设置")]),t._v(" "),r("el-form-item",{attrs:{label:"巡更点默认UUID"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.input,callback:function(e){t.$set(t.form,"input",e)},expression:"form.input"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"巡更点默认Major"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.input1,callback:function(e){t.$set(t.form,"input1",e)},expression:"form.input1"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"巡更点默认Minor"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.input2,callback:function(e){t.$set(t.form,"input2",e)},expression:"form.input2"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"巡更点默认MAC"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.input3,callback:function(e){t.$set(t.form,"input3",e)},expression:"form.input3"}})],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},o=[],a=(r("ac6a"),r("28a5"),r("96cf"),r("3b8d")),i=r("b8b9"),u=r("bd17"),s={data:function(){return{form:{options:[],value:"",options1:[],value1:[],options2:[],value2:"",options3:[],value3:[],input:"",input1:"",input2:"",input3:"",id:""},generalObj:{uid:localStorage.getItem("uid")}}},mounted:function(){this.tbEventTypeConfig(),this.checkGeneral()},methods:{checkGeneral:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["e"])(localStorage.getItem("deptid"));case 3:e=t.sent,console.log(e),this.form.value=e.data.allocationUserId,""==e.data.executerUserId?this.form.value1="":this.form.value1=e.data.executerUserId.split(","),this.form.value2=e.data.invalidUserId,""==e.data.deliverUserId?this.form.value3="":this.form.value3=e.data.deliverUserId.split(","),this.form.input=e.data.defaultUuid,this.form.input1=e.data.defaultMajor,this.form.input2=e.data.defaultMinor,this.form.input3=e.data.defaultMac,this.form.id=e.data.id,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,this,[[0,16]])})));function e(){return t.apply(this,arguments)}return e}(),tbEventTypeConfig:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i["c"])(localStorage.getItem("uid"));case 3:e=t.sent,this.form.options=e.result,this.form.options.forEach((function(t){r.$set(t,"value",t.uid),r.$set(t,"label",t.vserName)})),this.form.options1=e.result,this.form.options1.forEach((function(t){r.$set(t,"value",t.uid),r.$set(t,"label",t.vserName)})),this.form.options2=e.result,this.form.options2.forEach((function(t){r.$set(t,"value",t.uid),r.$set(t,"label",t.vserName)})),this.form.options3=e.result,this.form.options3.forEach((function(t){r.$set(t,"value",t.uid),r.$set(t,"label",t.vserName)})),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(){return t.apply(this,arguments)}return e}(),fenPei:function(t){console.log(t),this.generalObj.allocationUserId=t},zhiXing:function(t){console.log(t);var e=t.join(",");this.generalObj.executerUserId=e},shenHe:function(t){console.log(t),this.generalObj.invalidUserId=t},zhuanFa:function(t){console.log(t);var e=t.join(",");this.generalObj.deliverUserId=e},save:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["j"])(e);case 3:r=t.sent,console.log(r),2e4==r.code&&this.$message({type:"success",message:"保存成功"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}(),onSubmit:function(){this.generalObj.defaultUuid=this.form.input,this.generalObj.defaultMajor=this.form.input1,this.generalObj.defaultMinor=this.form.input2,this.generalObj.defaultMac=this.form.input3,this.generalObj.id=this.form.id,this.save(this.generalObj),setTimeout((function(){history.go(0)}),300)}}},l=s,c=(r("dc8d"),r("2877")),f=Object(c["a"])(l,n,o,!1,null,"2c4d7b2e",null);e["default"]=f.exports}}]);